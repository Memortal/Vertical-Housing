<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Al-Nahda Vertical Community Visualizer</title>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.css' rel='stylesheet'>
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.js'></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Al-Nahda Vertical Community</h1>
            <div class="search-container">
                <input type="text" id="search" placeholder="Search location...">
                <button id="searchBtn">Search</button>
            </div>
        </div>
        <div class="main-content">
            <div class="panel site-panel">
                <h2>Site Plan</h2>
                <div class="map-container">
                    <div id="map"></div>
                    <div class="map-overlay">
                        <h3>Site Information</h3>
                        <div class="site-stats">
                            <div class="stat">
                                <span class="label">Total Area:</span>
                                <span class="value">10,000 m²</span>
                            </div>
                            <div class="stat">
                                <span class="label">Plot Ratio:</span>
                                <span class="value">6.5</span>
                            </div>
                            <div class="stat">
                                <span class="label">Ground Coverage:</span>
                                <span class="value">40%</span>
                            </div>
                        </div>
                        <div class="site-features">
                            <h4>Site Features</h4>
                            <ul>
                                <li>✓ Optimized for natural ventilation</li>
                                <li>✓ Maximum solar exposure</li>
                                <li>✓ Easy street access</li>
                                <li>✓ Public transport proximity</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="panel model-panel">
                <h2>3D Model</h2>
                <div class="model-container">
                    <div id="building-model"></div>
                    <div class="model-overlay">
                        <div class="building-stats">
                            <div class="stat-group">
                                <h4>Building Heights</h4>
                                <ul>
                                    <li>Tower Height: 85m</li>
                                    <li>Podium Height: 20m</li>
                                    <li>Total Floors: 25</li>
                                </ul>
                            </div>
                            <div class="stat-group">
                                <h4>Unit Distribution</h4>
                                <ul>
                                    <li>2-Bed Units: 200</li>
                                    <li>3-Bed Units: 200</li>
                                    <li>Studio Units: 100</li>
                                </ul>
                            </div>
                            <div class="stat-group">
                                <h4>Sustainability</h4>
                                <ul>
                                    <li>Solar Coverage: 2,000m²</li>
                                    <li>Green Roof: 1,500m²</li>
                                    <li>Water Recycling: 60%</li>
                                </ul>
                            </div>
                        </div>
                        <div class="hover-info" id="hoverInfo">
                            Hover over building elements for details
                        </div>
                    </div>
                </div>
            </div>

            <div class="panel" id="project-data">
                <div class="panel-header">
                    <h2>Project Data</h2>
                </div>
                <div class="tab-container">
                    <div class="tab-buttons">
                        <button class="tab-btn active" data-tab="overview">Overview</button>
                        <button class="tab-btn" data-tab="specs">Specifications</button>
                        <button class="tab-btn" data-tab="sustainability">Sustainability</button>
                        <button class="tab-btn" data-tab="community">Community</button>
                        <button class="tab-btn" data-tab="construction">Construction</button>
                    </div>
                    
                    <div id="overview" class="tab-content active">
                        <div class="info-section">
                            <h2>Project Overview</h2>
                            <div class="interactive-stats">
                                <div class="stat-card">
                                    <i class="fas fa-building"></i>
                                    <span class="stat-value">85m</span>
                                    <span class="stat-label">Height</span>
                                </div>
                                <div class="stat-card">
                                    <i class="fas fa-layer-group"></i>
                                    <span class="stat-value">25</span>
                                    <span class="stat-label">Floors</span>
                                </div>
                                <div class="stat-card">
                                    <i class="fas fa-chart-area"></i>
                                    <span class="stat-value">10k m²</span>
                                    <span class="stat-label">Total Area</span>
                                </div>
                            </div>
                            <div class="info-content">
                                <h3>Key Features</h3>
                                <ul>
                                    <li><i class="fas fa-check"></i> Mixed-use development</li>
                                    <li><i class="fas fa-check"></i> Sustainable design</li>
                                    <li><i class="fas fa-check"></i> Community spaces</li>
                                    <li><i class="fas fa-check"></i> Smart technology</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div id="specs" class="tab-content">
                        <div class="info-section">
                            <h2>Building Specifications</h2>
                            <div class="interactive-section">
                                <div class="chart-container">
                                    <canvas id="unitDistributionChart"></canvas>
                                </div>
                                <div class="specs-details">
                                    <div class="interactive-stats">
                                        <div class="stat-card">
                                            <i class="fas fa-home"></i>
                                            <span class="stat-value">500</span>
                                            <span class="stat-label">Total Units</span>
                                        </div>
                                        <div class="stat-card">
                                            <i class="fas fa-building"></i>
                                            <span class="stat-value">3</span>
                                            <span class="stat-label">Towers</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="info-section">
                            <h2>Technical Details</h2>
                            <div class="tech-specs-grid">
                                <div class="tech-spec-card" data-category="structure">
                                    <div class="tech-spec-header">
                                        <i class="fas fa-cubes"></i>
                                        <h3>Structural System</h3>
                                    </div>
                                    <div class="tech-spec-content">
                                        <ul>
                                            <li><strong>Core:</strong> Reinforced concrete (50 MPa)</li>
                                            <li><strong>Floor System:</strong> Post-tensioned slabs</li>
                                            <li><strong>Seismic Design:</strong> Base isolation system</li>
                                            <li><strong>Wind Resistance:</strong> Up to 180 km/h</li>
                                        </ul>
                                        <div class="spec-diagram">
                                            <canvas id="structuralSystemCanvas"></canvas>
                                        </div>
                                    </div>
                                </div>

                                <div class="tech-spec-card" data-category="mep">
                                    <div class="tech-spec-header">
                                        <i class="fas fa-cogs"></i>
                                        <h3>MEP Systems</h3>
                                    </div>
                                    <div class="tech-spec-content">
                                        <ul>
                                            <li><strong>HVAC:</strong> VRF system with heat recovery</li>
                                            <li><strong>Electrical:</strong> Smart grid integration</li>
                                            <li><strong>Plumbing:</strong> Dual piping system</li>
                                            <li><strong>Fire Safety:</strong> Advanced sprinkler system</li>
                                        </ul>
                                        <div class="system-efficiency-meter">
                                            <div class="efficiency-bar" data-efficiency="85">
                                                <div class="efficiency-fill"></div>
                                                <span class="efficiency-label">System Efficiency: 85%</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="tech-spec-card" data-category="facade">
                                    <div class="tech-spec-header">
                                        <i class="fas fa-window-maximize"></i>
                                        <h3>Facade System</h3>
                                    </div>
                                    <div class="tech-spec-content">
                                        <ul>
                                            <li><strong>Type:</strong> Double-skin curtain wall</li>
                                            <li><strong>Glass:</strong> Low-E triple glazing</li>
                                            <li><strong>Shading:</strong> Automated external louvers</li>
                                            <li><strong>U-Value:</strong> 0.8 W/m²K</li>
                                        </ul>
                                        <div class="facade-performance">
                                            <div class="performance-metric">
                                                <span class="metric-label">Solar Heat Gain</span>
                                                <div class="metric-bar" data-value="15">
                                                    <div class="metric-fill"></div>
                                                </div>
                                            </div>
                                            <div class="performance-metric">
                                                <span class="metric-label">Light Transmission</span>
                                                <div class="metric-bar" data-value="70">
                                                    <div class="metric-fill"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="tech-spec-card" data-category="smart">
                                    <div class="tech-spec-header">
                                        <i class="fas fa-microchip"></i>
                                        <h3>Smart Systems</h3>
                                    </div>
                                    <div class="tech-spec-content">
                                        <ul>
                                            <li><strong>BMS:</strong> AI-powered building management</li>
                                            <li><strong>Security:</strong> Biometric access control</li>
                                            <li><strong>IoT:</strong> 5G-enabled sensors network</li>
                                            <li><strong>Energy:</strong> Smart metering system</li>
                                        </ul>
                                        <div class="smart-systems-status">
                                            <div class="status-indicator online">
                                                <span class="status-dot"></span>
                                                <span class="status-text">Systems Online</span>
                                            </div>
                                            <div class="system-metrics">
                                                <div class="metric">
                                                    <span>Sensors Active</span>
                                                    <span class="value">2,450</span>
                                                </div>
                                                <div class="metric">
                                                    <span>Data Points/Hour</span>
                                                    <span class="value">1.2M</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="sustainability" class="tab-content">
                        <div class="info-section">
                            <h2>Sustainability Features</h2>
                            <div class="interactive-section">
                                <div class="chart-container">
                                    <canvas id="energyUsageChart"></canvas>
                                </div>
                                <div class="sustainability-metrics">
                                    <div class="metric-cards">
                                        <div class="metric-card">
                                            <i class="fas fa-solar-panel"></i>
                                            <div class="metric-info">
                                                <span class="metric-value">400 MWh</span>
                                                <span class="metric-label">Annual Solar Generation</span>
                                            </div>
                                            <div class="metric-progress" data-progress="30"></div>
                                        </div>
                                        <div class="metric-card">
                                            <i class="fas fa-water"></i>
                                            <div class="metric-info">
                                                <span class="metric-value">100,000L</span>
                                                <span class="metric-label">Water Storage</span>
                                            </div>
                                            <div class="metric-progress" data-progress="75"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="community" class="tab-content">
                        <div class="info-section">
                            <h2>Community Features</h2>
                            <div class="community-overview">
                                <div class="stats-grid">
                                    <div class="stat-card">
                                        <i class="fas fa-users"></i>
                                        <span class="stat-value">2,000+</span>
                                        <span class="stat-label">Residents</span>
                                    </div>
                                    <div class="stat-card">
                                        <i class="fas fa-tree"></i>
                                        <span class="stat-value">40%</span>
                                        <span class="stat-label">Green Space</span>
                                    </div>
                                    <div class="stat-card">
                                        <i class="fas fa-building"></i>
                                        <span class="stat-value">15+</span>
                                        <span class="stat-label">Amenities</span>
                                    </div>
                                </div>
                            </div>

                            <div class="facilities-section">
                                <h3>Community Facilities</h3>
                                <div class="facility-map">
                                    <canvas id="facilityLayoutCanvas"></canvas>
                                    <div class="facility-legend">
                                        <div class="legend-item">
                                            <span class="color-box" style="background: #2196F3"></span>
                                            <span>Community Center</span>
                                        </div>
                                        <div class="legend-item">
                                            <span class="color-box" style="background: #4CAF50"></span>
                                            <span>Wellness Center</span>
                                        </div>
                                        <div class="legend-item">
                                            <span class="color-box" style="background: #FFC107"></span>
                                            <span>Children's Play Area</span>
                                        </div>
                                        <div class="legend-item">
                                            <span class="color-box" style="background: #66BB6A"></span>
                                            <span>Green Space</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="amenities-grid">
                                    <div class="amenity-card">
                                        <i class="fas fa-dumbbell"></i>
                                        <h4>Fitness Center</h4>
                                        <p>State-of-the-art equipment</p>
                                        <ul>
                                            <li>24/7 Access</li>
                                            <li>Personal Training</li>
                                            <li>Group Classes</li>
                                        </ul>
                                    </div>
                                    <div class="amenity-card">
                                        <i class="fas fa-swimming-pool"></i>
                                        <h4>Swimming Pool</h4>
                                        <p>Temperature controlled</p>
                                        <ul>
                                            <li>Lap Lanes</li>
                                            <li>Kids Pool</li>
                                            <li>Jacuzzi</li>
                                        </ul>
                                    </div>
                                    <div class="amenity-card">
                                        <i class="fas fa-child"></i>
                                        <h4>Children's Area</h4>
                                        <p>Safe and engaging spaces</p>
                                        <ul>
                                            <li>Playground</li>
                                            <li>Learning Center</li>
                                            <li>Activity Rooms</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <div class="community-events">
                                <h3>Upcoming Community Events</h3>
                                <div class="events-timeline">
                                    <div class="event-card">
                                        <div class="event-date">Feb 15</div>
                                        <div class="event-content">
                                            <h4>Community Garden Workshop</h4>
                                            <p>Learn sustainable gardening practices</p>
                                            <span class="event-time">10:00 AM - 12:00 PM</span>
                                        </div>
                                    </div>
                                    <div class="event-card">
                                        <div class="event-date">Mar 1</div>
                                        <div class="event-content">
                                            <h4>Fitness Boot Camp</h4>
                                            <p>High-intensity workout session</p>
                                            <span class="event-time">8:00 AM - 9:30 AM</span>
                                        </div>
                                    </div>
                                    <div class="event-card">
                                        <div class="event-date">Mar 15</div>
                                        <div class="event-content">
                                            <h4>Art & Culture Festival</h4>
                                            <p>Celebrate local artists and performers</p>
                                            <span class="event-time">2:00 PM - 8:00 PM</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="construction" class="tab-content">
                        <div class="info-section">
                            <h2>Construction Progress</h2>
                            <div class="progress-visualization">
                                <div class="chart-container">
                                    <canvas id="constructionTimelineChart"></canvas>
                                </div>
                                <div class="progress-metrics">
                                    <div class="metric-card">
                                        <h4>Current Phase</h4>
                                        <div class="phase-indicator">
                                            <span class="phase-label">Structural Work</span>
                                            <div class="progress-bar">
                                                <div class="progress" style="width: 75%"></div>
                                            </div>
                                            <span class="phase-percentage">75% Complete</span>
                                        </div>
                                    </div>
                                    <div class="metric-card">
                                        <h4>Overall Progress</h4>
                                        <div class="progress-circle">
                                            <svg viewBox="0 0 36 36" class="circular-chart">
                                                <path d="M18 2.0845
                                                    a 15.9155 15.9155 0 0 1 0 31.831
                                                    a 15.9155 15.9155 0 0 1 0 -31.831"
                                                    fill="none"
                                                    stroke="#eee"
                                                    stroke-width="3" />
                                                <path d="M18 2.0845
                                                    a 15.9155 15.9155 0 0 1 0 31.831
                                                    a 15.9155 15.9155 0 0 1 0 -31.831"
                                                    fill="none"
                                                    stroke="#2196F3"
                                                    stroke-width="3"
                                                    stroke-dasharray="71, 100" />
                                            </svg>
                                            <div class="percentage">71%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="construction-details">
                                <div class="phase-breakdown">
                                    <h3>Construction Phases</h3>
                                    <div class="phase-grid">
                                        <div class="phase-card completed">
                                            <div class="phase-header">
                                                <i class="fas fa-check-circle"></i>
                                                <h4>Foundation</h4>
                                            </div>
                                            <div class="phase-content">
                                                <p>Deep foundations and basement construction</p>
                                                <ul>
                                                    <li>Piling completed</li>
                                                    <li>Waterproofing done</li>
                                                    <li>Base slab finished</li>
                                                </ul>
                                            </div>
                                            <div class="phase-footer">
                                                <span class="completion-date">Completed: Jan 2024</span>
                                            </div>
                                        </div>
                                        <div class="phase-card in-progress">
                                            <div class="phase-header">
                                                <i class="fas fa-tools"></i>
                                                <h4>Structural Work</h4>
                                            </div>
                                            <div class="phase-content">
                                                <p>Core and shell construction</p>
                                                <ul>
                                                    <li>Core walls: Floor 15/25</li>
                                                    <li>Floor slabs: Level 14</li>
                                                    <li>Columns in progress</li>
                                                </ul>
                                            </div>
                                            <div class="phase-footer">
                                                <span class="estimated-completion">Est. Completion: Jul 2024</span>
                                            </div>
                                        </div>
                                        <div class="phase-card upcoming">
                                            <div class="phase-header">
                                                <i class="fas fa-hard-hat"></i>
                                                <h4>MEP Installation</h4>
                                            </div>
                                            <div class="phase-content">
                                                <p>Mechanical, Electrical, and Plumbing</p>
                                                <ul>
                                                    <li>HVAC system planning</li>
                                                    <li>Electrical routing</li>
                                                    <li>Plumbing layout</li>
                                                </ul>
                                            </div>
                                            <div class="phase-footer">
                                                <span class="start-date">Starts: Aug 2024</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="safety-metrics">
                                    <h3>Safety & Quality Metrics</h3>
                                    <div class="metrics-grid">
                                        <div class="metric-item">
                                            <i class="fas fa-clock"></i>
                                            <span class="metric-value">365</span>
                                            <span class="metric-label">Days Without Incidents</span>
                                        </div>
                                        <div class="metric-item">
                                            <i class="fas fa-clipboard-check"></i>
                                            <span class="metric-value">98%</span>
                                            <span class="metric-label">Quality Score</span>
                                        </div>
                                        <div class="metric-item">
                                            <i class="fas fa-user-hard-hat"></i>
                                            <span class="metric-value">250+</span>
                                            <span class="metric-label">Workers on Site</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script type="importmap">
    {
        "imports": {
            "three": "https://unpkg.com/three@0.132.2/build/three.module.js",
            "three/addons/": "https://unpkg.com/three@0.132.2/examples/jsm/"
        }
    }
    </script>
    <script src="app.js" type="module"></script>
</body>
</html>
